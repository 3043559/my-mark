指令的格式
- 操作吗
- 地址吗
- 寻址方式

指令的字长
- 固定字长
- 可变字长

# 指令的一般格式

[操作码字段 | 地址码字段]

## 操作码
操作码：反应机器要执行的操作

### 长度固定
- 长度固定（RISC）：用于指令字长较长的情况
- 例如：IBM 370，操作码8位

### 长度可变
操作码分散在指令的不同字段中

### 扩展操作码技术

4位操作码，最多15条三地址指令

|OP|$A_1$|$A_2$|$A_3$|
|-|-|-|-|
|0000|$A_1$|$A_2$|$A_3$|
|0001|$A_1$|$A_2$|$A_3$|
|... |...|...|...|
|1110|$A_1$|$A_2$|$A_3$|

8位操作码，最多15条二地址指令

|OP|$A_1$|$A_2$|$A_3$|
|-|-|-|-|
|1111|0000|$A_2$|$A_3$|
|1111|0001|$A_2$|$A_3$|
|... |...|...|...|
|1111|1110|$A_2$|$A_3$|

12位操作码，最多15条一地址指令

|OP|$A_1$|$A_2$|$A_3$|
|-|-|-|-|
|1111|1111|0000|$A_3$|
|1111|1111|0001|$A_3$|
|... |...|...|...|
|1111|1111|1110|$A_3$|

16位操作码，16条零地址指令

|OP|$A_1$|$A_2$|$A_3$|
|-|-|-|-|
|1111|1111|1111|0000|
|1111|1111|1111|0001|
|... |...|...|...|
|1111|1111|1111|1110|

- 操作码的位数随地址数的减少而增加
- 高地址指令操作码，每减少一种最多可构成$2^4$种低一级地址指令
- 高频出现的指令用短操作码，低频出现的指令用长操作码
> 目的：应该是为了减少机器识别指令的时间，操作码越长，识别时间越多

## 地址码
设指令字长为32位，操作码固定为8位
- OP：操作指令
- $A_1$：第一操作数地址
- $A_2$：第二操作数地
- $A_3$：结果的地址
- $A_4$：下一条指令地址

### 四地址

$|\overset{8}{OP}|\overset{6}{A_1}|\overset{6}{A_2}|\overset{6}{A_3}|\overset{6}{A_4}|$

- 操作：$(A_1)OP(A_2)\to A_3$
- 访存次数：4
- 寻址范围：$2^6=64$

### 三地址

$|\overset{8}{OP}|\overset{8}{A_1}|\overset{8}{A_2}|\overset{8}{A_3}|$

用PC代替$A_4$
- 操作：$(A_1)OP(A_2)\to A_3$
- 访存次数：4
- 寻址范围：$2^8=256$

### 二地址
$|\overset{8}{OP}|\overset{12}{A_1}|\overset{12}{A_2}|$

用$A_1$或$A_2$代替$A_3$

- 操作：$(A_1)OP(A_2)\to A_1$或$(A_1)OP(A_2)\to A_2$
- 访存次数：4
- 寻址范围：$2^12=4K$

### 一地址
$|\overset{8}{OP}|\overset{24}{A_1}|$

用ACC替代$A_1$或$A_2$
- 操作：$(ACC)OP(A1)\to ACC$
- 访存次数：2次
- 寻址范围：$2^24=16M$

### 零地址

无地址码

# 指令字长

- 操作码的长度
- 操作数地址的长度
- 操作数地址的个数

## 指令字长固定
指令字长=存储字长

## 指令字长可变

按字节的倍数变化

# 小结
当用一些硬件资源替代指令字中的地址码字段后
- 可扩大指令的寻址范围
- 可缩短指令字长
- 可减少访存次数

当指令的地址字段为寄存器
- 可缩短指令字长
- 指令执行阶段不访存
